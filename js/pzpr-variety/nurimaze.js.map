{"version":3,"file":"nurimaze.js","sources":["../../../src/variety/nurimaze.js"],"names":["pidlist","classbase","module","exports","pzpr","classmgr","makeCustom","MouseEvent","use","inputModes","edit","play","mouseinput","this","inputMode","inputtile_nurimaze","common","call","mouseinput_other","indexOf","inputmarks","mouseinput_auto","puzzle","playmode","mousestart","mousemove","editmode","inputEdit","mouseend","inputEdit_end","cell","getcell","isnull","mouseCell","inputData","decIC","bd","board","clist","room","i","length","ques","startpos","equals","goalpos","qsub","cell2","setShade","clrShade","setQsub","draw","inputEdit_first","input","inputborder","pos","getpos","notInputted","cursor","getc","setcursor","inputQuesMark","newques","btn","0","41","42","setQues","KeyEvent","enablemake","keyinput","ca","keydown","key_inputqnum_nurimaze","old","Board","hasborder","createExtraObject","classes","klass","StartAddress","GoalAddress","cols","rows","partner","initExtraObject","col","row","disableInfo","init","enableInfo","exchangestartgoal","old_start","old_goal","set","BoardExec","posinfo","adjustBoardData","key","d","posinfo_start","getAfterPos","posinfo_goal","adjustBoardData2","opemgr","info1","info2","isrec","REDUCE","isdel","undoExec","redoExec","forceRecord","OperationManager","addExtraOperation","operationlist","push","StartGoalOperation","AreaUnshadeGraph","enabled","AreaRoomGraph","LineGraph","BorderList","subclear","propclear","Graphic","enablebcolor","errbcolor2","bbcolor","irowake","drawDotCells","g","vinc","dsize","Math","max","cw","range","cells","vid","id","isDot","isDotBySolver","trial","fillStyle","trialcolor","getColorSolverAware","qsubBySolver","fillCircle","bx","bw","by","bh","vhide","paint","drawBGCells","drawShadedCells","drawGrid","drawQuesMarks","drawStartGoal","drawBorders","drawChassis","drawBoxBorders","drawTarget","drawLines","rsize","tsize","lineWidth","num","px","py","strokeStyle","getQuesNumberColor","strokeCircle","beginPath","setOffsetLinePath","stroke","Encode","decodePzpr","type","decodeBorder","decodeCell_nurimaze","encodePzpr","encodeBorder","encodeCell_nurimaze","c","bstr","outbstr","charAt","include","parseInt","substr","cm","count","pstr","toString","FileIO","decodeData","decodeAreaRoom","decodeCellQues_nurimaze","decodeCellAns","decodeBorderLine","encodeData","encodeAreaRoom","encodeCellQues_nurimaze","encodeCellAns","encodeBorderLineIfPresent","decodeCell","encodeCell","AnsCheck","checklist","checkShadedObject","checkAllCell","qans","check2x2UnshadeCell","check2x2Block","isUnshade","checkUnshadeLoop","ublks","ublkmgr","components","r","circuits","failcode","add","checkOnly","searchloop","seterr","checkRouteCheckPoint","minfo","getMazeRouteInfo","outroute","filter","onroute","checkRouteNoDeadEnd","_info","maze","history","steps","onroutes","maxbx","minbx","nextcell","nodes","ublknodes","cell1","obj","pop","info","CellList"],"mappings":"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"}