{"version":3,"file":"hakoiri.js","sources":["../../../src/variety/hakoiri.js"],"names":["pidlist","classbase","module","exports","pzpr","classmgr","makeCustom","MouseEvent","inputModes","edit","play","mouseinput_other","this","pid","mousestart","inputMode","dragnumber_tontonbeya","inputFixedNumber","mouseinput_auto","puzzle","playmode","btn","mousemove","dragDots","inputDot","editmode","inputborder","mouseend","notInputted","mouseCell","inputqnum","cell","getcell","isnull","qnum","anum","inputData","qsub","setAnum","setQsub","draw","MouseEvent@tontonbeya","board","emptycell","getNum","sn","snum","setSnum","clrSnum","KeyEvent","enablemake","enableplay","keyinput","ca","key_hakoiri","key_inputqnum","Cell","numberAsObject","enableSubNumberArray","maxnum","Cell@tontonbeya","Board","hasborder","AreaNumberGraph@hakoiri,tontonbeya","enabled","AreaNumberGraph@tontonbeya#1","relation","cell.qnum","cell.anum","border.ques","isedgevalidbylinkobj","border","isBorder","isedgevalidbynodeobj","cell1","cell2","getb","bx","by","AreaRoomGraph","Graphic","enablebcolor","paint","drawBGCells","drawTargetSubNumber","drawGrid","drawBorders","drawDotCells","drawQnumMarks","drawHatenas","drawSubNumbers","drawChassis","drawCursor","getNumberTextCore","num","g","vinc","rsize","lineWidth","Math","max","cw","tsize","clist","range","cells","i","length","px","vid","id","strokeStyle","getQuesNumberColor","getAnsNumberColor","bw","py","bh","strokeCircle","beginPath","setOffsetLinePath","stroke","strokeRectCenter","vhide","Graphic@tontonbeya","Encode","decodePzpr","type","decodeBorder","decodeNumber10","encodePzpr","encodeBorder","encodeNumber10","FileIO","decodeData","decodeAreaRoom","decodeCellQnum","decodeCellAnumsub","encodeData","encodeAreaRoom","encodeCellQnum","encodeCellAnumsub","AnsCheck","checklist","checkOverFourMarksInBox","checkAllBlock","roommgr","isNum","w","h","a","n","checkAllMarkInBox","checkAroundMarks","checkAroundCell","checkAlternatingLines","bd","hasError","checkRowsCols","found","idx","checkOnly","cellinside","seterr","failcode","add","checkThreeTypesInLine","each","checkNoTypesInLine","filter","AnsCheck@tontonbeya","checkMultiAdjacent","createAdjacent","sets","nblkmgr","components","r","adjacent","checkNoAdjacent","checkDividedSymbol","createUnits","rooms","room","c","units","checkEqualSize","size","unit","_info","hasUnits","Set","nblk","forEach","blk","hasAdjacent","c1","sidecell","c2","s1","s2","r1","r2"],"mappings":"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"}