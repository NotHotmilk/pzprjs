/*! @license pzpr.js v1375cc80 (c) 2009-2025 sabo2, MIT license
 *   https://github.com/sabo2/pzprv3 */
!function(t,e){"object"==typeof module&&module.exports?module.exports=[t,e]:pzpr.classmgr.makeCustom(t,e)}(["heyajiri"],{MouseEvent:{RBShadeCell:!0,use:!0,inputModes:{edit:["number","border","clear","direc","info-line"],play:["line","peke","shade","unshade","info-line"]},mouseinput_auto:function(){this.puzzle.playmode||this.puzzle.editmode&&(this.mousestart||this.mousemove?this.isBorderMode()?this.inputborder():this.inputdirec():this.mouseend&&this.notInputted()&&this.inputqnum())},inputdirec:function(){var t,e,i=this.getpos(0);this.prevPos.equals(i)||((t=this.prevPos.getc()).isnull||-1===t.qnum2||(e=this.prevPos.getdir(i,2))!==t.NDIR&&(t.setQdir(t.qdir!==e?e:0),t.draw()),this.prevPos=i)}},KeyEvent:{enablemake:!0,moveTarget:function(t){return!t.match(/shift/)&&this.moveTCell(t)},keyinput:function(t){this.key_inputdirec(t)||this.key_inputqnum(t)}},Cell:{isDot:function(){return 0===this.lcnt&&(1===this.qsub||1===this.qsubBySolver)},countShade:function(t){return t?t.filter(function(t){return t.isShade()}).length:-1},hasUndecided:function(t){return!!t&&t.some(function(t){return 0===t.qans&&!t.knowEmpty()})},posthook:{qsub:function(){this.board.redrawAffected([this])},qans:function(){for(var t=[this],e=this.adjacent,i=[e.top,e.bottom,e.left,e.right],s=0;s<i.length;s++){var n=i[s];n.isnull||0!==n.qans||0!==n.qsub||t.push(n)}this.board.redrawAffected(t)}},minnum:0,maxnum:function(){return this.room.clist.length},noLP:function(t){return this.isShade()},allowShade:function(){return 0===this.lcnt},allowUnshade:function(){return 0===this.lcnt},knowEmpty:function(){return 0!==this.qsub||(0<this.lcnt||0<this.countDir4Cell(function(t){return 0<t.isShade()}))},isCmp:function(){if(!this.puzzle.execConfig("autocmp"))return!1;var t=this.room.clist;return!this.hasUndecided(t)&&this.qnum===this.countShade(t)}},Border:{enableLineNG:!0,posthook:{line:function(){this.board.scanResult=null;for(var t=[],e=0;e<this.sidecell.length;e++)t.push(this.sidecell[e]);this.board.redrawAffected(t)}}},Board:{hasborder:1,scanInside:function(){if(null!==this.scanResult)return this.scanResult;if(this.cell.some(function(t){return 0!==t.lcnt&&2!==t.lcnt}))return this.scanResult=!1;for(var t=2;t<this.maxby;t+=2)for(var e=!1,i=1;i<this.maxbx;i+=2)this.getb(i,t).isLine()&&(e^=!0),this.getx(i+1,t).inside=e;return this.scanResult=!0},rebuildInfo:function(){this.scanResult=null,this.common.rebuildInfo.call(this)},redrawAffected:function(t){for(var e=[],i=0;i<t.length;i++){var s=t[i].room.top;e[s.id]||(e[s.id]=!0,s.draw())}}},AreaRoomGraph:{enabled:!0,hastop:!0},LineGraph:{enabled:!0},Graphic:{qcmpcolor:"rgb(127,127,127)",autocmp:"number",irowake:!0,textoption:{ratio:.4,position:5,hoffset:.8,voffset:.75},getQuesNumberColor:function(t){var e=this.getQuesNumberColor_mixed(t);return 1!==(t.error||t.qinfo)&&t.isCmp()?this.qcmpcolor:e},drawQuesNumbers:function(){this.vinc("cell_number","auto"),this.drawNumbers_com(this.getQues2NumberText,this.getQuesNumberColor,"cell_text_",this.textoption)},getQues2NumberText:function(t){return this.getNumberText(t,(this.puzzle.execConfig("dispmove")?t.base:t).qnum2)},paint:function(){this.drawBGCells(),this.drawShadedCells(),this.drawDotCells(),this.drawGrid(),this.drawBorders(),this.drawLines(),this.drawQuesNumbers(),this.drawPekes(),this.drawChassis(),this.drawBoxBorders(!1),this.drawTarget()}},Encode:{},FileIO:{},AnsCheck:{}});
//# sourceMappingURL=heyajiri.js.map