/*! @license pzpr.js v1375cc80 (c) 2009-2025 sabo2, MIT license
 *   https://github.com/sabo2/pzprv3 */
!function(e,t){"object"==typeof module&&module.exports?module.exports=[e,t]:pzpr.classmgr.makeCustom(e,t)}(["cbanana"],{MouseEvent:{use:!0,inputModes:{edit:["number","clear"],play:["shade","unshade"]},autoedit_func:"qnum",autoplay_func:"cell"},KeyEvent:{enablemake:!0},Cell:{maxnum:function(){return this.board.cols*this.board.rows}},AreaShadeGraph:{enabled:!0},AreaUnshadeGraph:{enabled:!0},Graphic:{gridcolor_type:"DARK",enablebcolor:!0,drawDotCells:function(){for(var e=this.vinc("cell_dot","auto",!0),t=Math.max(.12*this.cw,2),c=this.range.cells,i=0;i<c.length;i++){var l=c[i];e.vid="c_dot_"+l.id,l.isDot()||l.isDotBySolver()?(l.trial?e.fillStyle=this.trialcolor:e.fillStyle=this.getColorSolverAware(1===l.qsub,1===l.qsubBySolver),e.fillCircle(l.bx*this.bw,l.by*this.bh,t)):e.vhide()}},paint:function(){this.drawBGCells(),this.drawShadedCells(),this.drawGrid(),this.drawDotCells(),this.drawQuesNumbers(),this.drawChassis(),this.drawTarget()}},Encode:{decodePzpr:function(e){this.decodeNumber16()},encodePzpr:function(e){this.encodeNumber16()}},FileIO:{decodeData:function(){this.decodeCellQnum(),this.decodeCellAns()},encodeData:function(){this.encodeCellQnum(),this.encodeCellAns()}},AnsCheck:{checklist:["checkShadeRect","checkUnshadeNotRect","checkNumberSize","doneShadingDecided"],checkNumberSize:function(){for(var e=0;e<this.board.cell.length;e++){var t=this.board.cell[e],c=t.qnum;if(!(c<=0)){t=t.isShade()?t.sblk:t.ublk;if(t.clist.length!==c){if(this.failcode.add("bkSizeNe"),this.checkOnly)return;t.clist.seterr(1)}}}},checkShadeRect:function(){this.checkAllArea(this.board.sblkmgr,function(e,t,c,i){return e*t===c},"csNotRect")},checkUnshadeNotRect:function(){this.checkAllArea(this.board.ublkmgr,function(e,t,c,i){return e*t!==c},"cuRect")}}});