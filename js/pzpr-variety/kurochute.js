/*! @license pzpr.js v1375cc80 (c) 2009-2025 sabo2, MIT license
 *   https://github.com/sabo2/pzprv3 */
!function(e,t){"object"==typeof module&&module.exports?module.exports=[e,t]:pzpr.classmgr.makeCustom(e,t)}(["kurochute"],{MouseEvent:{RBShadeCell:!0,use:!0,inputModes:{edit:["number","clear"],play:["shade","unshade","peke","completion"]},mouseinput_auto:function(){this.puzzle.playmode?(this.mousestart&&(this.isDraggingPeke=this.puzzle.key.isALT),this.isDraggingPeke?this.inputpeke():this.mousestart?this.inputcell_kurochute():this.mousemove&&this.inputcell()):this.puzzle.editmode&&this.mousestart&&this.inputqnum()},inputcell_kurochute:function(){var e=this.getcell();e.isnull||(e.isNum()?this.inputqcmp():this.inputcell())},inputqcmp:function(){var e=this.getcell();e.isnull||(e.setQcmp(+!e.qcmp),e.draw(),this.mousereset())}},KeyEvent:{enablemake:!0},Cell:{numberRemainsUnshaded:!0,maxnum:function(){return Math.max(this.board.cols,this.board.rows)-1},prehook:{qsub:function(){return-1!==this.qnum}}},Board:{hasborder:1,cols:8,rows:8},AreaUnshadeGraph:{enabled:!0},Graphic:{qanscolor:"black",gridcolor_type:"LIGHT",enablebcolor:!0,paint:function(){this.drawDotCells(),this.drawGrid(),this.drawShadedCells(),this.drawQuesNumbers(),this.drawChassis(),this.drawPekes(),this.drawTarget()},getQuesNumberColor:function(e){return 1===e.error?this.errcolor1:1===e.qcmp?this.qcmpcolor:this.quescolor}},Encode:{decodePzpr:function(e){this.decodeNumber16()},encodePzpr:function(e){this.encodeNumber16()},decodeKanpen:function(){this.fio.decodeCellQnum_kanpen()},encodeKanpen:function(){this.fio.encodeCellQnum_kanpen()}},FileIO:{decodeData:function(){this.decodeCellQnum(),this.decodeCellQanssubcmp(),this.decodeBorderLine()},encodeData:function(){this.encodeCellQnum(),this.encodeCellQanssubcmp(),this.encodeBorderLineIfPresent()},decodeCellQanssubcmp:function(){this.decodeCell(function(e,t){"+"===t?e.qsub=1:"-"===t?e.qcmp=1:"1"===t&&(e.qans=1)})},encodeCellQanssubcmp:function(){this.encodeCell(function(e){return 1===e.qans?"1 ":1===e.qsub?"+ ":1===e.qcmp?"- ":". "})}},AnsCheck:{checklist:["checkShadeCellExist","checkAdjacentShadeCell","checkConnectUnshadeRB","checkShootSingle","doneShadingDecided"],checkShootSingle:function(){for(var e=this.board,t=0;t<e.cell.length;t++){var s=e.cell[t];if(s.isValidNum()){var n=s.qnum,i=new this.klass.CellList,o=s.relcell(2*-n,0);if(o.isShade()&&i.add(o),(o=s.relcell(2*n,0)).isShade()&&i.add(o),(o=s.relcell(0,2*-n)).isShade()&&i.add(o),(o=s.relcell(0,2*n)).isShade()&&i.add(o),1!==i.length){if(this.failcode.add("nmShootShadeNe1"),this.checkOnly)break;s.seterr(1),i.seterr(1)}}}}}});