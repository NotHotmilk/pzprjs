{"version":3,"file":"isowatari.js","sources":["../../../src/variety/isowatari.js"],"names":["pidlist","classbase","module","exports","pzpr","classmgr","makeCustom","MouseEvent","use","inputModes","edit","play","inputEdit","this","inputData","inputEdit_first","inputqnum","bd","board","bx","inputPoint","by","rect","clusterSize","bx1","bx2","by1","by2","cursor","minby","pos","klass","Address","maxbx","setcursor","val","getNewNumber","count","set","mousereset","mouseinput_auto","puzzle","playmode","mousestart","mousemove","inputcell","editmode","mouseinput_clear","cell","getcell","isnull","mouseCell","setQnum","setQans","setQsub","draw","Cell","numberAsObject","disInputHatena","maxnum","allowShade","qnum","isEmpty","allowUnshade","isUnshade","qans","isShadeDecided","isShade","qsub","KeyEvent","enablemake","keyinput","ca","getc","setValid","ques","key_inputqnum","key_inputqnum_isowatari","prev","TargetCursor","common","call","Board","hasborder","createExtraObject","ClusterSize","initExtraObject","col","row","init","AreaRoomGraph","enabled","Border","isGrid","sidecell","isValid","isBorder","isQuesBorder","initialize","addOpe","autoSolve","getmaxnum","rows","cols","getminnum","old","num","opemgr","add","ClusterSizeOperation","painter","paintRange","minbx","ClusterSizeOperation:Operation","type","setData","decode","strs","toString","join","undo","exec","redo","AreaShadeGraph","AreaUnshadeGraph","relation","cell.ques","cell.qans","OperationManager","addExtraOperation","operationlist","push","Graphic","gridcolor_type","enablebcolor","shadecolor","circlefillcolor_func","circleratio","trialbcolor","bcolor","numbercolor_func","paint","drawBGCells","drawShadedCells","drawValidGrid","drawQuesBorders","drawCircles","drawDotCells","drawClusterSize","drawCursor_isowatari","getQuesBorderColor","border","quescolor","g","vinc","blist","lineWidth","strokeStyle","gridcolor","range","borders","n","length","px","py","vid","id","bw","bh","isVert","strokeLine","vhide","getCanvasRows","getBoardRows","margin","getOffsetRows","setRangeObject","x1","y1","x2","y2","copyBufferData","g2","canvas","sx2","child","width","sy2","y0","context","clearRect","drawImage","x0","fillStyle","font","ch","fontfamily","textAlign","textBaseline","fillText","isOnBoard","isOnIndicator","drawCursor","drawCursorOnIndicator","visible","isdraw","mouse","inputMode","getConfig","outputImage","targetColorEdit","Math","max","cw","strokeRect","Encode","decodePzpr","decodeClusterSize","decodeCircle","decodeEmpty","encodePzpr","encodeClusterSize","encodeCircle","encodeEmpty","barray","outbstr","split","FileIO","decodeData","readLine","decodeCell","decodeCellQnum","decodeCellAnumsub","decodeCellAns","encodeData","writeLine","encodeCell","encodeCellQnum","encodeCellAnumsub","encodeCellAns","AnsCheck","checklist","checkShadeOnCircle","checkAllCell","checkUnshadeOnCircle","checkGreaterThanN","checkAllArea","sblkmgr","w","h","a","checkSmallerThanN"],"mappings":";;CAIA,SAAUA,EAASC,GACI,iBAAXC,QAAuBA,OAAOC,QACxCD,OAAOC,QAAU,CAACH,EAASC,GAE3BG,KAAKC,SAASC,WAAWN,EAASC,GAJpC,CAMG,CAAC,aAAc,CACjBM,WAAY,CACXC,KAAK,EACLC,WAAY,CACXC,KAAM,CAAC,eAAgB,iBAAkB,QAAS,SAClDC,KAAM,CAAC,QAAS,UAAW,UAG5BC,UAAW,WAEa,OAAnBC,KAAKC,UACRD,KAAKE,kBAELF,KAAKG,aAGPD,gBAAiB,WAChB,IAAIE,EAAKJ,KAAKK,MACbC,EAAKN,KAAKO,WAAWD,GACrBE,EAAKR,KAAKO,WAAWC,GACrBC,EAAOL,EAAGM,YAAYD,KACvB,GACCH,GAAMG,EAAKE,KACXL,GAAMG,EAAKG,KACXJ,GAAMC,EAAKI,KACXL,GAAMC,EAAKK,IACV,CACD,GAAId,KAAKe,OAAOP,IAAMJ,EAAGY,MAGxB,OAFIC,EAAM,IAAIjB,KAAKkB,MAAMC,QAAQf,EAAGgB,MAAQ,GAAI,QAChDpB,KAAKqB,UAAUJ,GAIZK,EAAMtB,KAAKuB,aAAanB,EAAGM,YAAaN,EAAGM,YAAYc,OAC/C,OAARF,IAGJlB,EAAGM,YAAYe,IAAIH,GACnBtB,KAAK0B,mBAEL1B,KAAKG,aAIPwB,gBAAiB,WACZ3B,KAAK4B,OAAOC,UACX7B,KAAK8B,YAAc9B,KAAK+B,YAC3B/B,KAAKgC,YAEIhC,KAAK4B,OAAOK,UAClBjC,KAAK8B,YACR9B,KAAKD,aAKRmC,iBAAkB,WACjB,IAAIC,EAAOnC,KAAKoC,UACZD,EAAKE,QAAUF,IAASnC,KAAKsC,YAG7BtC,KAAK4B,OAAOK,UACfE,EAAKI,SAAS,GAEfJ,EAAKK,QAAQ,GACbL,EAAKM,QAAQ,GACbN,EAAKO,UAMPC,KAAM,CACLC,gBAAgB,EAChBC,gBAAgB,EAEhBC,OAAQ,EAERC,WAAY,WACX,OAAqB,IAAd/C,KAAKgD,OAAehD,KAAKiD,WAGjCC,aAAc,WACb,OAAqB,IAAdlD,KAAKgD,OAAehD,KAAKiD,WAGjCE,UAAW,WACV,OAAQnD,KAAKqC,QAAwB,IAAdrC,KAAKoD,OAAepD,KAAKiD,WAGjDI,eAAgB,WACf,OAAOrD,KAAKqC,QAAUrC,KAAKiD,WAAajD,KAAKsD,WAAyB,EAAZtD,KAAKuD,OAIjEC,SAAU,CACTC,YAAY,EAEZC,SAAU,SAASC,GAClB,IACKxB,EADM,MAAPwB,GACCxB,EAAOnC,KAAKe,OAAO6C,QACbvB,QACTF,EAAK0B,SAAuB,IAAd1B,EAAK2B,KAAa,EAAI,GAE3B9D,KAAKe,OAAOP,IAAMR,KAAKK,MAAMW,MACvChB,KAAK+D,cAAcJ,GAEnB3D,KAAKgE,wBAAwBL,IAG/BK,wBAAyB,SAASL,GACjC,IAAIvD,EAAKJ,KAAK4B,OAAOvB,MACjBiB,EAAMtB,KAAKuB,aAAanB,EAAGM,YAAaiD,EAAIvD,EAAGM,YAAYc,OACnD,OAARF,IAGJlB,EAAGM,YAAYe,IAAIH,GACnBtB,KAAKiE,KAAO7D,EAAGM,eAIjBwD,aAAc,CACbxB,KAAM,WACD1C,KAAKQ,IAAMR,KAAKK,MAAMW,MACzBhB,KAAKmE,OAAOzB,KAAK0B,KAAKpE,MAEtBA,KAAKK,MAAMK,YAAYgC,SAK1B2B,MAAO,CACNC,UAAW,EAEX5D,YAAa,KAEb6D,kBAAmB,WAClBvE,KAAKU,YAAc,IAAIV,KAAKkB,MAAMsD,YAAY,IAG/CC,gBAAiB,SAASC,EAAKC,GAC9B3E,KAAKU,YAAYkE,KAAK,KAIxBC,cAAe,CACdC,SAAS,GAGVC,OAAQ,CACPC,OAAQ,WACP,OAAOhF,KAAKiF,SAAS,GAAGC,WAAalF,KAAKiF,SAAS,GAAGC,WAEvDC,SAAU,WACT,OAAmB,EAAZnF,KAAKoD,MAAYpD,KAAKoF,gBAE9BA,aAAc,WACb,SAAUpF,KAAKiF,SAAS,GAAGhC,UAAYjD,KAAKiF,SAAS,GAAGhC,aAI1DuB,YAAa,CACZhD,MAAO,EACPf,KAAM,KACN4E,WAAY,SAAS/D,GACpBtB,KAAKwB,MAAQF,EACbtB,KAAKS,KAAO,CACXE,KAAM,EACNE,KAAM,EACND,KAAM,EACNE,KAAM,IAGR8D,KAAM,SAAStD,GACdtB,KAAKwB,MAAQF,EACTlB,EAAKJ,KAAK4B,OAAOvB,MACrBL,KAAKS,KAAO,CACXE,IAAKP,EAAGgB,MAAQ,KAChBP,KAAM,IACND,IAAKR,EAAGgB,MAAQ,IAChBN,KAAM,KAGRW,IAAK,SAASH,GAITtB,KAAKwB,SAFRF,EADGA,GAAO,EACJ,EAEYA,KAClBtB,KAAKsF,OAAOtF,KAAKwB,MAAOF,GACxBtB,KAAKwB,MAAQF,EACbtB,KAAK0C,OACL1C,KAAKK,MAAMkF,cAGbC,UAAW,WACV,IAAIpF,EAAKJ,KAAKK,MACd,OAAOD,EAAGqF,KAAOrF,EAAGsF,MAErBC,UAAW,WACV,OAAO,GAERL,OAAQ,SAASM,EAAKC,GACrB7F,KAAK4B,OAAOkE,OAAOC,IAAI,IAAI/F,KAAKkB,MAAM8E,qBAAqBJ,EAAKC,KAEjEnD,KAAM,WACL1C,KAAK4B,OAAOqE,QAAQC,WACnBlG,KAAKK,MAAM8F,OACV,EACDnG,KAAKK,MAAMe,OACV,KAIJgF,iCAAkC,CACjCC,KAAM,cACNC,QAAS,SAASV,EAAKC,GACtB7F,KAAK4F,IAAMA,EACX5F,KAAK6F,IAAMA,GAEZU,OAAQ,SAASC,GAChB,MAAgB,OAAZA,EAAK,KAGTxG,KAAK4F,KAAOY,EAAK,GACjBxG,KAAK6F,KAAOW,EAAK,IACV,IAERC,SAAU,WACT,MAAO,CAAC,KAAMzG,KAAK4F,IAAK5F,KAAK6F,KAAKa,KAAK,MAExCC,KAAM,WACL3G,KAAK4G,KAAK5G,KAAK4F,MAEhBiB,KAAM,WACL7G,KAAK4G,KAAK5G,KAAK6F,MAEhBe,KAAM,SAASf,GACd7F,KAAKK,MAAMK,YAAYe,IAAIoE,KAG7BiB,eAAgB,CACfhC,SAAS,GAEViC,iBAAkB,CACjBjC,SAAS,EACTkC,SAAU,CACTC,YAAa,OACbC,YAAa,SAGfC,iBAAkB,CACjBC,kBAAmB,WAClBpH,KAAKqH,cAAcC,KAAKtH,KAAKkB,MAAM8E,wBAKrCuB,QAAS,CACRC,eAAgB,SAEhBC,cAAc,EAEdC,WAAY,kBAEZC,qBAAsB,QACtBC,YAAa,CAAC,GAAK,KACnBC,YAAa7H,KAAK8H,OAClBC,iBAAkB,OAElBC,MAAO,WACNhI,KAAKiI,cACLjI,KAAKkI,kBAELlI,KAAKmI,gBACLnI,KAAKoI,kBAELpI,KAAKqI,cACLrI,KAAKsI,eAELtI,KAAKuI,kBACLvI,KAAKwI,wBAGNC,mBAAoB,SAASC,GAC5B,OAAOA,EAAOtD,eAAiBpF,KAAK2I,UAAY,MAGjDR,cAAe,WAOd,IANA,IAAIS,EAAI5I,KAAK6I,KAAK,eAAgB,cAAc,GAK5CC,GAHJF,EAAEG,UAAY,EACdH,EAAEI,YAAchJ,KAAKiJ,UAETjJ,KAAKkJ,MAAMC,SACdC,EAAI,EAAGA,EAAIN,EAAMO,OAAQD,IAAK,CACtC,IAGKE,EACHC,EAJEb,EAASI,EAAMM,GACnBR,EAAEY,IAAM,eAAiBd,EAAOe,GAC5Bf,EAAO1D,UACNsE,EAAKZ,EAAOpI,GAAKN,KAAK0J,GACzBH,EAAKb,EAAOlI,GAAKR,KAAK2J,GACnBjB,EAAOkB,SACVhB,EAAEiB,WAAWP,EAAIC,EAAKvJ,KAAK2J,GAAIL,EAAIC,EAAKvJ,KAAK2J,IAE7Cf,EAAEiB,WAAWP,EAAKtJ,KAAK0J,GAAIH,EAAID,EAAKtJ,KAAK0J,GAAIH,IAG9CX,EAAEkB,UAKLC,cAAe,WACd,OAAO/J,KAAKgK,eAAiB,EAAIhK,KAAKiK,OAAS,IAEhDC,cAAe,WACd,MAAO,IAERC,eAAgB,SAASC,EAAIC,EAAIC,EAAIC,GACpCvK,KAAKmE,OAAOgG,eAAe/F,KAAKpE,KAAMoK,EAAIC,EAAIC,EAAIC,GAClDvK,KAAKkJ,MAAMxI,YAAc2J,EAAK,GAE/BG,eAAgB,SAAS5B,EAAG6B,EAAIL,EAAIC,EAAIC,EAAIC,GAC3CvK,KAAKmE,OAAOqG,eAAepG,KAAKpE,KAAM4I,EAAG6B,EAAIL,EAAIC,EAAIC,EAAIC,GACrD3B,EAAEjJ,IAAI+K,QAAU1K,KAAKkJ,MAAMxI,cAC1BN,EAAKJ,KAAKK,MAGbsK,EAAMF,EAAGG,MAAMC,MACfC,GAAO1K,EAAGY,MAAQ,IAAOhB,KAAK2J,GAAK3J,KAAK+K,GACzCnC,EAAEoC,QAAQC,UAJA,EACH,EAGwBjL,KAAK+K,GAAIJ,EAAKG,GAC7ClC,EAAEsC,UACDT,EAAGG,MANM,EACH,GAQND,GACAG,EAVS,EAWH9K,KAAKmL,GAVL,EAWAnL,KAAK+K,IACXJ,GACAG,KAKHvC,gBAAiB,WAChB,IAAIK,EAAI5I,KAAK6I,KAAK,cAAe,QAAQ,GACxCzI,EAAKJ,KAAKK,MACNL,KAAKkJ,MAAMxI,cAIZkI,EAAEjJ,IAAI+K,QACT9B,EAAEoC,QAAQC,UACT,GACCjL,KAAK+K,GACNnC,EAAEgC,MAAMC,OACPzK,EAAGY,MAAQ,IAAOhB,KAAK2J,GAAK3J,KAAK+K,IAIpCnC,EAAEwC,UAAYpL,KAAK2I,UAEnBC,EAAEY,IAAM,iBACRZ,EAAEyC,MAAmB,IAAVrL,KAAKsL,GAAa,GAAK,MAAQtL,KAAKuL,WAC/C3C,EAAE4C,UAAY,QACd5C,EAAE6C,aAAe,SACjB7C,EAAE8C,SAAS,GAAKtL,EAAGM,YAAYc,OAAQpB,EAAGgB,MAAQ,GAAKpB,KAAK0J,IAAK1J,KAAK2J,MAGvEnB,qBAAsB,WACrB,IAAImD,EAAY3L,KAAK4B,OAAOvB,MAAMW,OAAShB,KAAK4B,OAAOb,OAAOP,GAC1DoL,GAAiBD,EACrB3L,KAAK6L,YAAW,EAAMF,GAAa3L,KAAK4B,OAAOK,UAC/CjC,KAAK8L,sBAAsBF,IAG5BE,sBAAuB,SAASC,GAC/B,IAAInD,EAAI5I,KAAK6I,KAAK,gBAAiB,cAAc,GAChDzI,EAAKJ,KAAKK,MACNL,KAAKkJ,MAAMxI,cAIZsL,EACHD,GACA/L,KAAK4B,OAAOK,UACoB,SAAhCjC,KAAK4B,OAAOqK,MAAMC,WAClBlM,KAAK4B,OAAOuK,UAAU,YACrBnM,KAAKoM,YACPxD,EAAEY,IAAM,KACJwC,GACCvL,EAAOL,EAAGM,YAAYD,KAC1BmI,EAAEI,YAAchJ,KAAKqM,gBACrBzD,EAAEG,UAAwC,EAA5BuD,KAAKC,IAAIvM,KAAKwM,GAAK,GAAI,GACrC5D,EAAE6D,WACDhM,EAAKE,IAAMX,KAAK0J,GAChBjJ,EAAKI,IAAMb,KAAK2J,IACflJ,EAAKG,IAAMH,EAAKE,KAAOX,KAAK0J,IAC5BjJ,EAAKK,IAAML,EAAKI,KAAOb,KAAK2J,KAG9Bf,EAAEkB,WAOL4C,OAAQ,CACPC,WAAY,SAAStG,GACpBrG,KAAK4M,oBACL5M,KAAK6M,eACL7M,KAAK8M,eAENC,WAAY,SAAS1G,GACpBrG,KAAKgN,oBACLhN,KAAKiN,eACLjN,KAAKkN,eAGNN,kBAAmB,WAClB,IAAIO,EAASnN,KAAKoN,QAAQC,MAAM,KAC1BrN,KAAKK,MACRK,YAAYc,OAAS2L,EAAO,GAC/BnN,KAAKoN,QAAYD,EAAO,IAAiB,IAE1CH,kBAAmB,WAClBhN,KAAKoN,QAAUpN,KAAKK,MAAMK,YAAYc,MAAQ,MAIhD8L,OAAQ,CACPC,WAAY,WACXvN,KAAKK,MAAMK,YAAYc,OAASxB,KAAKwN,WACrCxN,KAAKyN,WAAW,SAAStL,EAAMwB,GAC9BxB,EAAK2B,KAAO,EACD,MAAPH,EACHxB,EAAK2B,KAAO,EACK,MAAPH,EACVxB,EAAKa,MAAQ,EACI,MAAPW,IACVxB,EAAKa,MAAQW,KAGf3D,KAAK0N,iBACL1N,KAAK2N,oBACL3N,KAAK4N,iBAENC,WAAY,WACX7N,KAAK8N,UAAU9N,KAAKK,MAAMK,YAAYc,OACtCxB,KAAK+N,WAAW,SAAS5L,GACxB,OAAkB,IAAdA,EAAK2B,KACD,MACkB,IAAf3B,EAAKa,KACR,KACgB,GAAbb,EAAKa,KACRb,EAAKa,KAAO,IAEZ,OAGThD,KAAKgO,iBACLhO,KAAKiO,oBACLjO,KAAKkO,kBAMPC,SAAU,CACTC,UAAW,CACV,qBACA,uBACA,sBACA,sBACA,oBACA,oBACA,sBAEDC,mBAAoB,WACnBrO,KAAKsO,aAAa,SAASnM,GAC1B,OAAQA,EAAKmB,WAA2B,IAAdnB,EAAKa,MAC7B,kBAGJuL,qBAAsB,WACrBvO,KAAKsO,aAAa,SAASnM,GAC1B,OAAOA,EAAKmB,WAA2B,IAAdnB,EAAKa,MAC5B,gBAGJwL,kBAAmB,WAClB,IAAIpO,EAAKJ,KAAKK,MACdL,KAAKyO,aACJzO,KAAKK,MAAMqO,QACX,SAASC,EAAGC,EAAGC,EAAGzF,GACjB,OAAOyF,GAAKzO,EAAGM,YAAYc,OAE5B,UAIFsN,kBAAmB,WAClB,IAAI1O,EAAKJ,KAAKK,MACdL,KAAKyO,aACJzO,KAAKK,MAAMqO,QACX,SAASC,EAAGC,EAAGC,EAAGzF,GACjB,OAAOyF,GAAKzO,EAAGM,YAAYc,OAE5B"}